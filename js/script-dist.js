"use strict";!function(){new Swiper(".swiper",{speed:2e3,spaceBetween:15,loop:!0,loopFillGroupWithBlank:!0,slidesPerView:"auto",longSwipesMs:300,touchRatio:.5,autoHeight:!0,centeredSlides:!0});function t(){document.querySelector("body").classList.toggle("_scroll-block")}var e,c,n,o,r,s=document.querySelector(".hamb"),i=document.querySelector(".popup"),u=document.querySelector(".menu");s.addEventListener("click",(function(){i.classList.toggle("_active"),s.classList.toggle("_active"),"МЕНЮ"==u.textContent?u.textContent="ЗАКРЫТЬ":u.textContent="МЕНЮ",t()})),document.querySelectorAll(".scroll-up").forEach((function(t){t.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))})),document.querySelector(".basket-button").addEventListener("click",(function(){document.querySelector(".basket").classList.toggle("_active"),t()})),e=document.querySelector(".basket-products"),c=JSON.parse(localStorage.getItem("cart"))||{},n=function(t){var c=t.productName,n=t.productPrice,o=t.productAbout,r=t.src,s=t.quantity,i=document.createElement("div"),u='\n      <div class="product__img">\n          <img src="'.concat(r,'" alt="фото товара">\n      </div>\n      <div class="product__body">\n          <div class="snacks__title product__title">\n              ').concat(c,'\n          </div>\n          <p class="product__about">\n              ').concat(o,'\n          </p>\n      </div>\n      <div class="product-edit">\n          <button class="minus">-</button>\n          <div class="quantity">\n              ').concat(s,'\n          </div>\n          <button class="plus">+</button>\n      </div>\n      <div class="product-price">\n          <div class="snacks__price">\n          ').concat(n*s,'\n          </div>\n          <button class="product-delete">X</button>\n      </div>\n    ');i.innerHTML=u,i.classList.add("product"),i.classList.add("".concat(c)),e.appendChild(i)},o=function(){localStorage.setItem("cart",JSON.stringify(c))},r=function(t,n){var r=e.querySelector(".".concat(t)),s=r.querySelector(".quantity"),i=r.querySelector(".snacks__price");c[t].quantity=n,s.textContent=n,i.textContent=n*c[t].productPrice,o()},Object.keys(c).forEach((function(t){return n(c[t])})),addEventListener("click",(function(t){var e=t.target;if(e.classList.contains("basketDefault")&&(t.preventDefault(),function(t){var e=t.productName;c[e]=t,n(t),o()}(function(t){var e=t.querySelector(".snacks__title").textContent,c=t.querySelector(".snacks__about").textContent;return{productName:e,productPrice:+t.querySelector(".snacks__price").textContent,productAbout:c,src:t.querySelector("img").getAttribute("src"),quantity:1}}(e.closest(".snacks")))),e.classList.contains("product-delete")){t.preventDefault();var s=e.closest(".product"),i=s.querySelector(".product__title").textContent.trim();s.parentNode.removeChild(s),delete c[i]}e.classList.contains("plus")&&(t.preventDefault(),function(t){var e=c[t].quantity+1;r(t,e)}(e.closest(".product").querySelector(".product__title").textContent.trim())),e.classList.contains("minus")&&(t.preventDefault(),function(t){var e=c[t].quantity-1;e>=1&&r(t,e)}(e.closest(".product").querySelector(".product__title").textContent.trim()))}))}();